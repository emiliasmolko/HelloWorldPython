
<html>

<head>
    <title>My boardgames page</title>
    <link href="static/styles.css" rel="stylesheet">
</head>

<body>

<header>
<a href="https://www.uniwersytetdzieci.pl/"> 
<img src="static/ud-logo.png" alt="Uniwersytet Dzieci"></a> 
<h2>My boardgames page</h2>
</header>
<section>
 <nav>
    <ul>
      <li><a href="#gamesDatabase" >List of boardgames</a></li>
    </ul>
  </nav>
  <article>
    <div id="gamesList">
		<h2>This is collection of boardgames I have played or I would like to play.</h2> </br>
		If you look for something special <input id="info" placeholder="Write here..." type="text" onkeypress="addResponse(event)"/></br>
		<div id="gamesDatabase" >
		</div>   
    </div>
	
	  </article>
</section>
<footer>
  <p>@byEmilia</p>
</footer>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
	function addResponse(e){
		if(e.which == 13 && !e.shiftKey) { 
			e.preventDefault();
			getGames(document.getElementById("info").value);

		}
	}
    //Retreive all games from the database
    function getGames(x){
		  text = "<table id='gamesDatabase'>  <tr >"+
    "<th >Name</th><th >Author</th> <th >Time of play</th> <th >Age</th><th>Number of players</th> <th>Description</th></tr>"
          $.get("./api/games?text="+x)
              .done(function(data) {
                  if(data.length > 0) {
                    data.forEach(function(element, index) {
                      text = text+"<tr ><td >"+element.title+"</td><td >"+
					  element.author+"</td><td >"+
					  element.time_from+"-"+element.time_to+"</td><td >"+
					  element.age_from+"-"+element.age_to+"</td><td >"+
					  element.players_from+"-"+element.players_to+"</td><td >"+
					  element.description+"</td>  </tr>"
                    });
					
                    $('#gamesDatabase').html(text +"</table>");
                  }
          });
    }
	getGames("");


    </script>
</body>

</html>
